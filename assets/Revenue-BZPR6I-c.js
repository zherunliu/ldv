import"./base-CKizj23g.js";import{v as F,a as N,E as U,b as j}from"./el-table-column-DwaBarbR.js";import{E as K}from"./el-tag-CaHoz25R.js";import"./el-select-DAXg0Ark.js";import"./el-scrollbar-CvPrqDL0.js";import"./el-popper-DB-QFI-H.js";import{E as L}from"./el-input-BN5ZdFSC.js";import"./el-checkbox-CFD2fDOk.js";/* empty css                   */import{E as M}from"./el-button-jLyDYas5.js";import{E as G,a as W}from"./el-col-ztdj8VxH.js";import{E as q}from"./el-card-BV1UOK6Q.js";import{r as u,a3 as H,e as J,z as O,j as Q,K as e,p as n,U as a,E as X,m as l,aK as h,ah as p,a5 as Y,k as Z,ag as z,o as S,av as $}from"./index-DNL56yZ_.js";import{u as ee,f as y}from"./to-thousands-DGlzmZ0y.js";import{a as te,c as ae}from"./charging-station-CAADKlHO.js";import"./index-C9txI7Rn.js";import"./event-WhKTvZKo.js";import"./isArrayLikeObject-BBBJdXaW.js";import"./aria-D7O-RZyP.js";import"./omit-C75Zi3em.js";import"./debounce-ByNTt4bK.js";import"./strings-BaOq2j4H.js";import"./raf-CAaaaqKq.js";import"./use-form-common-props-D46TsG5o.js";import"./index-B0kbSMQm.js";import"./_baseFindIndex-D7XfJLKM.js";import"./vnode-BSFz-22H.js";function ne(b,m=5){const C=u(0),d=H({page:1,pageSize:m});return{pageInfo:d,totals:C,handleSizeChange:r=>{d.pageSize=r,b()},handleCurrentChange:r=>{d.page=r,b()},resetPagination:()=>{d.page=1,d.pageSize=5},setTotals:r=>{C.value=r}}}const oe={class:"title"},le={class:"round"},se={class:"total"},re={class:"title"},ie={class:"round"},pe={class:"total"},de={class:"title"},ce={class:"round"},ue={class:"total"},me={class:"title"},_e={class:"round"},ge={class:"total"},fe={style:{display:"block"}},ve={style:{display:"block"}},he=J({__name:"Revenue",setup(b){const m=u(null);ee(m,async()=>{const t={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:["00:00","01:15","02:30","03:45","05:00","06:15","07:30","08:45","10:00","11:15","12:30","13:45","15:00","16:15","17:30","18:45","20:00","21:15","22:30","23:45"]},yAxis:{type:"value",axisLabel:{formatter:"{value} W"},axisPointer:{snap:!0}},visualMap:{show:!1,dimension:0,pieces:[{lte:6,color:"green"},{gt:6,lte:8,color:"red"},{gt:8,lte:14,color:"green"},{gt:14,lte:17,color:"red"},{gt:17,color:"green"}]},series:[{name:"Electricity",type:"line",smooth:!0,data:[]}]},c=await ae();return t.series[0].data=c.data,t});const d=u([]),_=u(!1),g=u(""),f=async()=>{_.value=!0;const{data:x}=await te({...r,name:g.value}),{list:t,total:c}=x;_.value=!1,D(c),d.value=t.map(s=>({...s,day:s.electricity+s.parkingFee+s.serviceFee+s.member}))},{totals:w,pageInfo:r,handleSizeChange:k,handleCurrentChange:T,setTotals:D}=ne(f);return O(()=>{f()}),(x,t)=>{const c=X,s=q,v=W,P=G,A=M,I=L,i=N,E=K,V=U,B=j,R=F;return S(),Q("div",null,[e(P,{gutter:20},{default:n(()=>[e(v,{span:6},{default:n(()=>[e(s,null,{default:n(()=>[a("div",oe,[a("div",le,[e(c,null,{default:n(()=>[e(l(h))]),_:1})]),t[3]||(t[3]=a("h4",null,"今日总收入",-1))]),a("div",se,[a("h1",null,p(l(y)(3243259)),1),t[4]||(t[4]=a("div",{class:"percent green"},"+21%",-1))])]),_:1})]),_:1}),e(v,{span:6},{default:n(()=>[e(s,null,{default:n(()=>[a("div",re,[a("div",ie,[e(c,null,{default:n(()=>[e(l(h))]),_:1})]),t[5]||(t[5]=a("h4",null,"会员卡储值金额",-1))]),a("div",pe,[a("h1",null,p(l(y)(47328593)),1),t[6]||(t[6]=a("div",{class:"percent green"},"+17%",-1))])]),_:1})]),_:1}),e(v,{span:6},{default:n(()=>[e(s,null,{default:n(()=>[a("div",de,[a("div",ce,[e(c,null,{default:n(()=>[e(l(h))]),_:1})]),t[7]||(t[7]=a("h4",null,"设备费金额",-1))]),a("div",ue,[a("h1",null,p(l(y)(624378)),1),t[8]||(t[8]=a("div",{class:"percent red"},"-3%",-1))])]),_:1})]),_:1}),e(v,{span:6},{default:n(()=>[e(s,null,{default:n(()=>[a("div",me,[a("div",_e,[e(c,null,{default:n(()=>[e(l(h))]),_:1})]),t[9]||(t[9]=a("h4",null,"服务费金额",-1))]),a("div",ge,[a("h1",null,p(l(y)(43624)),1),t[10]||(t[10]=a("div",{class:"percent red"},"-24%",-1))])]),_:1})]),_:1})]),_:1}),e(s,{class:"mt"},{default:n(()=>[a("div",{ref_key:"chartRef",ref:m,style:{width:"100%",height:"250px"}},null,512)]),_:1}),e(s,{class:"mt"},{default:n(()=>[e(I,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=o=>g.value=o),style:{width:"300px"},placeholder:"请输入站点名称"},{append:n(()=>[e(A,{icon:"search",onClick:f})]),_:1},8,["modelValue"]),Y((S(),Z(V,{data:d.value},{default:n(()=>[e(i,{align:"center",type:"index",label:"序号",width:"80"}),e(i,{align:"center",prop:"name",label:"站点名称",width:"180"}),e(i,{align:"center",prop:"id",label:"站点ID"}),e(i,{align:"center",prop:"city",label:"所属城市"}),e(i,{align:"center",prop:"count",label:"站点总量"}),e(i,{align:"center",prop:"day",label:"单日收入",sortable:""},{default:n(o=>[a("span",fe,p(o.row.day),1),e(E,{type:o.row.percent>0?"success":"danger"},{default:n(()=>[z(p(o.row.percent>0?"+":"")+p(o.row.percent)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(i,{align:"center",prop:"month",label:"月度收入"},{default:n(o=>[a("span",ve,p(o.row.month),1),e(E,{type:o.row.mpercent>0?"success":"danger"},{default:n(()=>[z(p(o.row.mpercent>0?"+":"")+p(o.row.mpercent)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(i,{align:"center",prop:"electricity",label:"电费营收"}),e(i,{align:"center",prop:"parkingFee",label:"停车费营收"}),e(i,{align:"center",prop:"serviceFee",label:"服务费营收"}),e(i,{align:"center",prop:"member",label:"会员储值金"})]),_:1},8,["data"])),[[R,_.value]]),e(B,{class:"mt fr mb","current-page":l(r).page,"onUpdate:currentPage":t[1]||(t[1]=o=>l(r).page=o),"page-size":l(r).pageSize,"onUpdate:pageSize":t[2]||(t[2]=o=>l(r).pageSize=o),"page-sizes":[5,10,15,20],background:"",layout:"total, sizes, prev, pager, next, jumper",total:l(w),onSizeChange:l(k),onCurrentChange:l(T)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),_:1})])}}}),He=$(he,[["__scopeId","data-v-2b1409fa"]]);export{He as default};
