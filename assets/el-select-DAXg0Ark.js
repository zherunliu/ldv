import{bG as yl,cj as wt,bv as Sl,bz as wl,ck as Ot,b_ as Ct,bM as z,bY as Ol,bD as Cl,b8 as me,b4 as El,al as Il,r as V,f,ae as le,b as Et,y as De,a9 as Q,bV as Tl,w as q,S as Re,aS as ae,_ as Me,e as he,a5 as pe,a6 as He,j as E,o as h,l as M,U as D,ah as U,V as de,s as g,u as fe,m as Ae,aE as Ke,a3 as ve,A as It,I as G,N,n as ke,z as Ge,R as Vl,a$ as kl,a8 as j,cl as Dl,cf as Rl,a2 as Ie,cm as pt,aa as Ml,cn as Ll,aB as ce,co as $l,C as ft,T as A,ab as Pl,a as Nl,g as Bl,aY as Wl,d as H,Q as Al,i as vt,a_ as Fl,aZ as zl,B as Tt,cp as Hl,aT as Kl,J as Z,bN as Gl,K as te,p as P,k as F,W as ue,au as Te,P as bt,L as Ul,ag as mt,cq as ql,q as Fe,cr as Ql,E as jl,t as Yl,x as Vt}from"./index-DNL56yZ_.js";import{a as ht,b as Zl,E as Jl}from"./el-popper-DB-QFI-H.js";import{s as Xl,E as _l}from"./el-scrollbar-CvPrqDL0.js";import{t as gt,E as xl}from"./el-tag-CaHoz25R.js";import{e as en,a as tn,C as ln}from"./strings-BaOq2j4H.js";import{t as nn,c as J,d as yt,U as ne,C as kt}from"./event-WhKTvZKo.js";import{u as Dt}from"./index-C9txI7Rn.js";import{u as an,a as on}from"./el-button-jLyDYas5.js";import{a as sn,u as rn}from"./index-B0kbSMQm.js";import{u as un}from"./use-form-common-props-D46TsG5o.js";import{b as dn}from"./_baseFindIndex-D7XfJLKM.js";import{h as cn,i as pn,u as fn}from"./aria-D7O-RZyP.js";import{f as vn}from"./vnode-BSFz-22H.js";var bn=1,mn=2;function hn(e,n,a,i){var s=a.length,v=s;if(e==null)return!v;for(e=Object(e);s--;){var l=a[s];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<v;){l=a[s];var c=l[0],m=e[c],y=l[1];if(l[2]){if(m===void 0&&!(c in e))return!1}else{var S=new yl,b;if(!(b===void 0?wt(y,m,bn|mn,i,S):b))return!1}}return!0}function Rt(e){return e===e&&!Sl(e)}function gn(e){for(var n=wl(e),a=n.length;a--;){var i=n[a],s=e[i];n[a]=[i,s,Rt(s)]}return n}function Mt(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}function yn(e){var n=gn(e);return n.length==1&&n[0][2]?Mt(n[0][0],n[0][1]):function(a){return a===e||hn(a,e,n)}}var Sn=1,wn=2;function On(e,n){return Ot(e)&&Rt(n)?Mt(Ct(e),n):function(a){var i=z(a,e);return i===void 0&&i===n?cn(a,e):wt(n,i,Sn|wn)}}function Cn(e){return function(n){return n?.[e]}}function En(e){return function(n){return Ol(n,e)}}function In(e){return Ot(e)?Cn(Ct(e)):En(e)}function Tn(e){return typeof e=="function"?e:e==null?pn:typeof e=="object"?Cl(e)?On(e[0],e[1]):yn(e):In(e)}function Vn(e,n,a){var i=e==null?0:e.length;if(!i)return-1;var s=i-1;return dn(e,Tn(n),s,!0)}const kn=(e,n)=>{if(!me)return!1;const a={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(n)],i=El(e,a);return["scroll","auto","overlay"].some(s=>i.includes(s))},ua=(e,n)=>{if(!me)return;let a=e;for(;a;){if([window,document,document.documentElement].includes(a))return window;if(kn(a,n))return a;a=a.parentNode}return a};let Ve;const da=e=>{var n;if(!me)return 0;if(Ve!==void 0)return Ve;const a=document.createElement("div");a.className=`${e}-scrollbar__wrap`,a.style.visibility="hidden",a.style.width="100px",a.style.position="absolute",a.style.top="-9999px",document.body.appendChild(a);const i=a.offsetWidth;a.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",a.appendChild(s);const v=s.offsetWidth;return(n=a.parentNode)==null||n.removeChild(a),Ve=i-v,Ve};function Dn(e,n){if(!me)return;if(!n){e.scrollTop=0;return}const a=[];let i=n.offsetParent;for(;i!==null&&e!==i&&e.contains(i);)a.push(i),i=i.offsetParent;const s=n.offsetTop+a.reduce((m,y)=>m+y.offsetTop,0),v=s+n.offsetHeight,l=e.scrollTop,c=l+e.clientHeight;s<l?e.scrollTop=s:v>c&&(e.scrollTop=v-e.clientHeight)}const Lt=11,Rn=2;function Mn(){const e=Il(),n=V(0),a=f(()=>({minWidth:`${Math.max(n.value,Lt)}px`}));return le(e,()=>{var s,v;n.value=(v=(s=e.value)==null?void 0:s.getBoundingClientRect().width)!=null?v:0}),{calculatorRef:e,calculatorWidth:n,inputStyle:a}}const $t={label:"label",value:"value",disabled:"disabled",options:"options"};function Ln(e){const n=f(()=>({...$t,...e.props}));return{aliasProps:n,getLabel:l=>z(l,n.value.label),getValue:l=>z(l,n.value.value),getDisabled:l=>z(l,n.value.disabled),getOptions:l=>z(l,n.value.options)}}const Pt=Symbol("ElSelectGroup"),Le=Symbol("ElSelect"),ze="ElOption",$n=Et({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean});function Pn(e,n){const a=De(Le);a||nn(ze,"usage: <el-select><el-option /></el-select/>");const i=De(Pt,{disabled:!1}),s=f(()=>S(J(a.props.modelValue),e.value)),v=f(()=>{var d;if(a.props.multiple){const O=J((d=a.props.modelValue)!=null?d:[]);return!s.value&&O.length>=a.props.multipleLimit&&a.props.multipleLimit>0}else return!1}),l=f(()=>{var d;return(d=e.label)!=null?d:Q(e.value)?"":e.value}),c=f(()=>e.value||e.label||""),m=f(()=>e.disabled||n.groupDisabled||v.value),y=Re(),S=(d=[],O)=>{if(Q(e.value)){const I=a.props.valueKey;return d&&d.some(L=>Tl(z(L,I))===z(O,I))}else return d&&d.includes(O)},b=()=>{!e.disabled&&!i.disabled&&(a.states.hoveringIndex=a.optionsArray.indexOf(y.proxy))},p=d=>{const O=new RegExp(en(d),"i");n.visible=O.test(String(l.value))||e.created};return q(()=>l.value,()=>{!e.created&&!a.props.remote&&a.setSelected()}),q(()=>e.value,(d,O)=>{const{remote:I,valueKey:L}=a.props;if((I?d!==O:!ae(d,O))&&(a.onOptionDestroy(O,y.proxy),a.onOptionCreate(y.proxy)),!e.created&&!I){if(L&&Q(d)&&Q(O)&&d[L]===O[L])return;a.setSelected()}}),q(()=>i.disabled,()=>{n.groupDisabled=i.disabled},{immediate:!0}),{select:a,currentLabel:l,currentValue:c,itemSelected:s,isDisabled:m,hoverItem:b,updateOption:p}}const Nn=he({name:ze,componentName:ze,props:$n,setup(e){const n=fe("select"),a=Dt(),i=f(()=>[n.be("dropdown","item"),n.is("disabled",Ae(c)),n.is("selected",Ae(l)),n.is("hovering",Ae(p))]),s=ve({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:v,itemSelected:l,isDisabled:c,select:m,hoverItem:y,updateOption:S}=Pn(e,s),{visible:b,hover:p}=Ke(s),d=Re().proxy;m.onOptionCreate(d),It(()=>{const I=d.value;G(()=>{const{selected:L}=m.states,Y=L.some(r=>r.value===d.value);m.states.cachedOptions.get(I)===d&&!Y&&m.states.cachedOptions.delete(I)}),m.onOptionDestroy(I,d)});function O(){c.value||m.handleOptionSelect(d)}return{ns:n,id:a,containerKls:i,currentLabel:v,itemSelected:l,isDisabled:c,select:m,visible:b,hover:p,states:s,hoverItem:y,updateOption:S,selectOptionClick:O}}});function Bn(e,n){return pe((h(),E("li",{id:e.id,class:g(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:de(e.selectOptionClick,["stop"])},[M(e.$slots,"default",{},()=>[D("span",null,U(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[He,e.visible]])}var Ue=Me(Nn,[["render",Bn],["__file","option.vue"]]);const Wn=he({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=De(Le),n=fe("select"),a=f(()=>e.props.popperClass),i=f(()=>e.props.multiple),s=f(()=>e.props.fitInputWidth),v=V("");function l(){var c;const m=(c=e.selectRef)==null?void 0:c.offsetWidth;m?v.value=`${m-Rn}px`:v.value=""}return Ge(()=>{l(),le(e.selectRef,l)}),{ns:n,minWidth:v,popperClass:a,isMultiple:i,isFitInputWidth:s}}});function An(e,n,a,i,s,v){return h(),E("div",{class:g([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:ke({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(h(),E("div",{key:0,class:g(e.ns.be("dropdown","header"))},[M(e.$slots,"header")],2)):N("v-if",!0),M(e.$slots,"default"),e.$slots.footer?(h(),E("div",{key:1,class:g(e.ns.be("dropdown","footer"))},[M(e.$slots,"footer")],2)):N("v-if",!0)],6)}var Fn=Me(Wn,[["render",An],["__file","select-dropdown.vue"]]);const zn=(e,n)=>{const{t:a}=Vl(),i=Dt(),s=fe("select"),v=fe("input"),l=ve({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),c=V(),m=V(),y=V(),S=V(),b=V(),p=V(),d=V(),O=V(),I=V(),L=V(),Y=V(),r=V(!1),R=V(),T=V(!1),{form:X,formItem:W}=an(),{inputId:K}=on(e,{formItemContext:W}),{valueOnClear:Qe,isEmptyValue:_}=kl(e),{isComposing:je,handleCompositionStart:Nt,handleCompositionUpdate:Bt,handleCompositionEnd:Wt}=sn({afterComposition:t=>lt(t)}),oe=f(()=>e.disabled||!!X?.disabled),{wrapperRef:Ye,isFocused:$e,handleBlur:At}=rn(b,{disabled:oe,afterFocus(){e.automaticDropdown&&!r.value&&(r.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(t){var o,u;return((o=y.value)==null?void 0:o.isFocusInsideContent(t))||((u=S.value)==null?void 0:u.isFocusInsideContent(t))},afterBlur(){var t;r.value=!1,l.menuVisibleOnFocus=!1,e.validateEvent&&((t=W?.validate)==null||t.call(W,"blur").catch(o=>yt()))}}),Pe=f(()=>j(e.modelValue)?e.modelValue.length>0:!_(e.modelValue)),Ft=f(()=>{var t;return(t=X?.statusIcon)!=null?t:!1}),zt=f(()=>e.clearable&&!oe.value&&Pe.value&&($e.value||l.inputHovering)),Ze=f(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Ht=f(()=>s.is("reverse",!!(Ze.value&&r.value))),Ne=f(()=>W?.validateState||""),Kt=f(()=>Ne.value&&Dl[Ne.value]),Gt=f(()=>e.remote?e.debounce:0),Ut=f(()=>e.remote&&!l.inputValue&&l.options.size===0),qt=f(()=>e.loading?e.loadingText||a("el.select.loading"):e.filterable&&l.inputValue&&l.options.size>0&&se.value===0?e.noMatchText||a("el.select.noMatch"):l.options.size===0?e.noDataText||a("el.select.noData"):null),se=f(()=>k.value.filter(t=>t.visible).length),k=f(()=>{const t=Array.from(l.options.values()),o=[];return l.optionValues.forEach(u=>{const w=t.findIndex(C=>C.value===u);w>-1&&o.push(t[w])}),o.length>=t.length?o:t}),Qt=f(()=>Array.from(l.cachedOptions.values())),jt=f(()=>{const t=k.value.filter(o=>!o.created).some(o=>o.currentLabel===l.inputValue);return e.filterable&&e.allowCreate&&l.inputValue!==""&&!t}),Je=()=>{e.filterable&&ce(e.filterMethod)||e.filterable&&e.remote&&ce(e.remoteMethod)||k.value.forEach(t=>{var o;(o=t.updateOption)==null||o.call(t,l.inputValue)})},Xe=un(),Yt=f(()=>["small"].includes(Xe.value)?"small":"default"),_e=f({get(){return r.value&&(e.loading||!Ut.value)&&(!T.value||!Rl(l.previousQuery))},set(t){r.value=t}}),Zt=f(()=>{if(e.multiple&&!Ie(e.modelValue))return J(e.modelValue).length===0&&!l.inputValue;const t=j(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Ie(t)?!l.inputValue:!0}),Jt=f(()=>{var t;const o=(t=e.placeholder)!=null?t:a("el.select.placeholder");return e.multiple||!Pe.value?o:l.selectedLabel}),Xt=f(()=>pt?null:"mouseenter");q(()=>e.modelValue,(t,o)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(l.inputValue="",ge("")),ye(),!ae(t,o)&&e.validateEvent&&W?.validate("change").catch(u=>yt())},{flush:"post",deep:!0}),q(()=>r.value,t=>{t?ge(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0),n("visible-change",t)}),q(()=>l.options.entries(),()=>{me&&(ye(),e.defaultFirstOption&&(e.filterable||e.remote)&&se.value&&xe())},{flush:"post"}),q([()=>l.hoveringIndex,k],([t])=>{Nl(t)&&t>-1?R.value=k.value[t]||{}:R.value={},k.value.forEach(o=>{o.hover=R.value===o})}),Ml(()=>{l.isBeforeHide||Je()});const ge=t=>{l.previousQuery===t||je.value||(l.previousQuery=t,e.filterable&&ce(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&ce(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&se.value?G(xe):G(_t))},xe=()=>{const t=k.value.filter(C=>C.visible&&!C.disabled&&!C.states.groupDisabled),o=t.find(C=>C.created),u=t[0],w=k.value.map(C=>C.value);l.hoveringIndex=it(w,o||u)},ye=()=>{if(e.multiple)l.selectedLabel="";else{const o=j(e.modelValue)?e.modelValue[0]:e.modelValue,u=Be(o);l.selectedLabel=u.currentLabel,l.selected=[u];return}const t=[];Ie(e.modelValue)||J(e.modelValue).forEach(o=>{t.push(Be(o))}),l.selected=t},Be=t=>{let o;const u=$l(t);for(let $=l.cachedOptions.size-1;$>=0;$--){const B=Qt.value[$];if(u?z(B.value,e.valueKey)===z(t,e.valueKey):B.value===t){o={index:k.value.filter(ee=>!ee.created).indexOf(B),value:t,currentLabel:B.currentLabel,get isDisabled(){return B.isDisabled}};break}}if(o)return o;const w=u?t.label:t??"";return{index:-1,value:t,currentLabel:w}},_t=()=>{l.hoveringIndex=k.value.findIndex(t=>l.selected.some(o=>we(o)===we(t)))},xt=()=>{l.selectionWidth=Number.parseFloat(window.getComputedStyle(m.value).width)},el=()=>{l.collapseItemWidth=L.value.getBoundingClientRect().width},We=()=>{var t,o;(o=(t=y.value)==null?void 0:t.updatePopper)==null||o.call(t)},et=()=>{var t,o;(o=(t=S.value)==null?void 0:t.updatePopper)==null||o.call(t)},tt=()=>{l.inputValue.length>0&&!r.value&&(r.value=!0),ge(l.inputValue)},lt=t=>{if(l.inputValue=t.target.value,e.remote)T.value=!0,nt();else return tt()},nt=Ll(()=>{tt(),T.value=!1},Gt),ie=t=>{ae(e.modelValue,t)||n(kt,t)},tl=t=>Vn(t,o=>{const u=l.cachedOptions.get(o);return!u?.disabled&&!u?.states.groupDisabled}),at=t=>{const o=ft(t);if(e.multiple&&o!==A.delete&&t.target.value.length<=0){const u=J(e.modelValue).slice(),w=tl(u);if(w<0)return;const C=u[w];u.splice(w,1),n(ne,u),ie(u),n("remove-tag",C)}},ll=(t,o)=>{const u=l.selected.indexOf(o);if(u>-1&&!oe.value){const w=J(e.modelValue).slice();w.splice(u,1),n(ne,w),ie(w),n("remove-tag",o.value)}t.stopPropagation(),Se()},ot=t=>{t.stopPropagation();const o=e.multiple?[]:Qe.value;if(e.multiple)for(const u of l.selected)u.isDisabled&&o.push(u.value);n(ne,o),ie(o),l.hoveringIndex=-1,r.value=!1,n("clear"),Se()},st=t=>{var o;if(e.multiple){const u=J((o=e.modelValue)!=null?o:[]).slice(),w=it(u,t);w>-1?u.splice(w,1):(e.multipleLimit<=0||u.length<e.multipleLimit)&&u.push(t.value),n(ne,u),ie(u),t.created&&ge(""),e.filterable&&!e.reserveKeyword&&(l.inputValue="")}else!ae(e.modelValue,t.value)&&n(ne,t.value),ie(t.value),r.value=!1;Se(),!r.value&&G(()=>{re(t)})},it=(t,o)=>Ie(o)?-1:Q(o.value)?t.findIndex(u=>ae(z(u,e.valueKey),we(o))):t.indexOf(o.value),re=t=>{var o,u,w,C,$;const B=j(t)?t[0]:t;let x=null;if(!Pl(B?.value)){const ee=k.value.filter(gl=>gl.value===B.value);ee.length>0&&(x=ee[0].$el)}if(y.value&&x){const ee=(C=(w=(u=(o=y.value)==null?void 0:o.popperRef)==null?void 0:u.contentRef)==null?void 0:w.querySelector)==null?void 0:C.call(w,`.${s.be("dropdown","wrap")}`);ee&&Dn(ee,x)}($=Y.value)==null||$.handleScroll()},nl=t=>{l.options.set(t.value,t),l.cachedOptions.set(t.value,t)},al=(t,o)=>{l.options.get(t)===o&&l.options.delete(t)},ol=f(()=>{var t,o;return(o=(t=y.value)==null?void 0:t.popperRef)==null?void 0:o.contentRef}),sl=()=>{l.isBeforeHide=!1,G(()=>{var t;(t=Y.value)==null||t.update(),re(l.selected)})},Se=()=>{var t;(t=b.value)==null||t.focus()},il=()=>{var t;if(r.value){r.value=!1,G(()=>{var o;return(o=b.value)==null?void 0:o.blur()});return}(t=b.value)==null||t.blur()},rl=t=>{ot(t)},ul=t=>{if(r.value=!1,$e.value){const o=new FocusEvent("blur",t);G(()=>At(o))}},rt=()=>{l.inputValue.length>0?l.inputValue="":r.value=!1},ut=()=>{oe.value||(pt&&(l.inputHovering=!0),l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:r.value=!r.value)},dt=()=>{if(!r.value)ut();else{const t=k.value[l.hoveringIndex];t&&!t.isDisabled&&st(t)}},we=t=>Q(t.value)?z(t.value,e.valueKey):t.value,dl=f(()=>k.value.filter(t=>t.visible).every(t=>t.isDisabled)),cl=f(()=>e.multiple?e.collapseTags?l.selected.slice(0,e.maxCollapseTags):l.selected:[]),pl=f(()=>e.multiple?e.collapseTags?l.selected.slice(e.maxCollapseTags):[]:[]),Oe=t=>{if(!r.value){r.value=!0;return}if(!(l.options.size===0||se.value===0||je.value)&&!dl.value){t==="next"?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):t==="prev"&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const o=k.value[l.hoveringIndex];(o.isDisabled||!o.visible)&&Oe(t),G(()=>re(R.value))}},ct=(t,o,u,w)=>{for(let C=o;C>=0&&C<w;C+=u){const $=t[C];if(!$?.isDisabled&&$?.visible)return C}return null},Ce=(t,o)=>{var u;const w=l.options.size;if(w===0)return;const C=tn(t,0,w-1),$=k.value,B=o==="up"?-1:1,x=(u=ct($,C,B,w))!=null?u:ct($,C-B,-B,w);x!=null&&(l.hoveringIndex=x,G(()=>re(R.value)))},fl=t=>{const o=ft(t);let u=!0;switch(o){case A.up:Oe("prev");break;case A.down:Oe("next");break;case A.enter:case A.numpadEnter:dt();break;case A.esc:rt();break;case A.backspace:u=!1,at(t);return;case A.home:if(!r.value)return;Ce(0,"down");break;case A.end:if(!r.value)return;Ce(l.options.size-1,"up");break;case A.pageUp:if(!r.value)return;Ce(l.hoveringIndex-10,"up");break;case A.pageDown:if(!r.value)return;Ce(l.hoveringIndex+10,"down");break;default:u=!1;break}u&&(t.preventDefault(),t.stopPropagation())},vl=()=>{if(!m.value)return 0;const t=window.getComputedStyle(m.value);return Number.parseFloat(t.gap||"6px")},bl=f(()=>{const t=vl(),o=e.filterable?t+Lt:0;return{maxWidth:`${L.value&&e.maxCollapseTags===1?l.selectionWidth-l.collapseItemWidth-t-o:l.selectionWidth-o}px`}}),ml=f(()=>({maxWidth:`${l.selectionWidth}px`})),hl=t=>{n("popup-scroll",t)};le(m,xt),le(Ye,We),le(I,et),le(L,el);let Ee;return q(()=>_e.value,t=>{t?Ee=le(O,We).stop:(Ee?.(),Ee=void 0)}),Ge(()=>{ye()}),{inputId:K,contentId:i,nsSelect:s,nsInput:v,states:l,isFocused:$e,expanded:r,optionsArray:k,hoverOption:R,selectSize:Xe,filteredOptionsCount:se,updateTooltip:We,updateTagTooltip:et,debouncedOnInputChange:nt,onInput:lt,deletePrevTag:at,deleteTag:ll,deleteSelected:ot,handleOptionSelect:st,scrollToOption:re,hasModelValue:Pe,shouldShowPlaceholder:Zt,currentPlaceholder:Jt,mouseEnterEventName:Xt,needStatusIcon:Ft,showClearBtn:zt,iconComponent:Ze,iconReverse:Ht,validateState:Ne,validateIcon:Kt,showNewOption:jt,updateOptions:Je,collapseTagSize:Yt,setSelected:ye,selectDisabled:oe,emptyText:qt,handleCompositionStart:Nt,handleCompositionUpdate:Bt,handleCompositionEnd:Wt,handleKeydown:fl,onOptionCreate:nl,onOptionDestroy:al,handleMenuEnter:sl,focus:Se,blur:il,handleClearClick:rl,handleClickOutside:ul,handleEsc:rt,toggleMenu:ut,selectOption:dt,getValueKey:we,navigateOptions:Oe,dropdownMenuVisible:_e,showTagList:cl,collapseTagList:pl,popupScroll:hl,getOption:Be,tagStyle:bl,collapseTagStyle:ml,popperRef:ol,inputRef:b,tooltipRef:y,tagTooltipRef:S,prefixRef:p,suffixRef:d,selectRef:c,wrapperRef:Ye,selectionRef:m,scrollbarRef:Y,menuRef:O,tagMenuRef:I,collapseItemRef:L}};var Hn=he({name:"ElOptions",setup(e,{slots:n}){const a=De(Le);let i=[];return()=>{var s,v;const l=(s=n.default)==null?void 0:s.call(n),c=[];function m(y){j(y)&&y.forEach(S=>{var b,p,d,O;const I=(b=S?.type||{})==null?void 0:b.name;I==="ElOptionGroup"?m(!Bl(S.children)&&!j(S.children)&&ce((p=S.children)==null?void 0:p.default)?(d=S.children)==null?void 0:d.default():S.children):I==="ElOption"?c.push((O=S.props)==null?void 0:O.value):j(S.children)&&m(S.children)})}return l.length&&m((v=l[0])==null?void 0:v.children),ae(c,i)||(i=c,a&&(a.states.optionValues=c)),l}}});const Kn=Et({name:String,id:String,modelValue:{type:H([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:zl,effect:{type:H(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:H([String,Object])},popperOptions:{type:H(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:H(Function)},filterMethod:{type:H(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:ht.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:vt,default:Fl},fitInputWidth:Boolean,suffixIcon:{type:vt,default:Al},tagType:{...gt.type,default:"info"},tagEffect:{...gt.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:H(String),values:Zl,default:"bottom-start"},fallbackPlacements:{type:H(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:ht.appendTo,options:{type:H(Array)},props:{type:H(Object),default:()=>$t},...Wl,...fn(["ariaLabel"])});Xl.scroll;const Gn=he({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const n=fe("select"),a=V(),i=Re(),s=V([]);Tt(Pt,ve({...Ke(e)}));const v=f(()=>s.value.some(y=>y.visible===!0)),l=y=>{var S;return y.type.name==="ElOption"&&!!((S=y.component)!=null&&S.proxy)},c=y=>{const S=J(y),b=[];return S.forEach(p=>{var d;Kl(p)&&(l(p)?b.push(p.component.proxy):j(p.children)&&p.children.length?b.push(...c(p.children)):(d=p.component)!=null&&d.subTree&&b.push(...c(p.component.subTree)))}),b},m=()=>{s.value=c(i.subTree)};return Ge(()=>{m()}),Hl(a,m,{attributes:!0,subtree:!0,childList:!0}),{groupRef:a,visible:v,ns:n}}});function Un(e,n,a,i,s,v){return pe((h(),E("ul",{ref:"groupRef",class:g(e.ns.be("group","wrap"))},[D("li",{class:g(e.ns.be("group","title"))},U(e.label),3),D("li",null,[D("ul",{class:g(e.ns.b("group"))},[M(e.$slots,"default")],2)])],2)),[[He,e.visible]])}var qe=Me(Gn,[["render",Un],["__file","option-group.vue"]]);const St="ElSelect",be=new WeakMap,qn=e=>(...n)=>{var a,i;const s=n[0];if(!s||s.includes('Slot "default" invoked outside of the render function')&&((a=n[2])!=null&&a.includes("ElTreeSelect")))return;const v=(i=be.get(e))==null?void 0:i.originalWarnHandler;if(v){v(...n);return}console.warn(...n)},Qn=e=>{let n=be.get(e);return n||(n={originalWarnHandler:e.config.warnHandler,handler:qn(e),count:0},be.set(e,n)),n},jn=he({name:St,componentName:St,components:{ElSelectMenu:Fn,ElOption:Ue,ElOptions:Hn,ElOptionGroup:qe,ElTag:xl,ElScrollbar:_l,ElTooltip:Jl,ElIcon:jl},directives:{ClickOutside:ln},props:Kn,emits:[ne,kt,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:n,slots:a}){const i=Re(),s=Qn(i.appContext);s.count+=1,i.appContext.config.warnHandler=s.handler;const v=f(()=>{const{modelValue:r,multiple:R}=e,T=R?[]:void 0;return j(r)?R?r:T:R?T:r}),l=ve({...Ke(e),modelValue:v}),c=zn(l,n),{calculatorRef:m,inputStyle:y}=Mn(),{getLabel:S,getValue:b,getOptions:p,getDisabled:d}=Ln(e),O=r=>({label:S(r),value:b(r),disabled:d(r)}),I=r=>r.reduce((R,T)=>(R.push(T),T.children&&T.children.length>0&&R.push(...I(T.children)),R),[]),L=r=>{vn(r||[]).forEach(T=>{var X;if(Q(T)&&(T.type.name==="ElOption"||T.type.name==="ElTree")){const W=T.type.name;if(W==="ElTree"){const K=((X=T.props)==null?void 0:X.data)||[];I(K).forEach(_=>{_.currentLabel=_.label||(Q(_.value)?"":_.value),c.onOptionCreate(_)})}else if(W==="ElOption"){const K={...T.props};K.currentLabel=K.label||(Q(K.value)?"":K.value),c.onOptionCreate(K)}}})};q(()=>{var r;return[(r=a.default)==null?void 0:r.call(a),v.value]},()=>{var r;e.persistent||c.expanded.value||(c.states.options.clear(),L((r=a.default)==null?void 0:r.call(a)))},{immediate:!0}),Tt(Le,ve({props:l,states:c.states,selectRef:c.selectRef,optionsArray:c.optionsArray,setSelected:c.setSelected,handleOptionSelect:c.handleOptionSelect,onOptionCreate:c.onOptionCreate,onOptionDestroy:c.onOptionDestroy}));const Y=f(()=>e.multiple?c.states.selected.map(r=>r.currentLabel):c.states.selectedLabel);return It(()=>{const r=be.get(i.appContext);r&&(r.count-=1,r.count<=0&&(i.appContext.config.warnHandler=r.originalWarnHandler,be.delete(i.appContext)))}),{...c,modelValue:v,selectedLabel:Y,calculatorRef:m,inputStyle:y,getLabel:S,getValue:b,getOptions:p,getDisabled:d,getOptionProps:O}}});function Yn(e,n){const a=Z("el-tag"),i=Z("el-tooltip"),s=Z("el-icon"),v=Z("el-option"),l=Z("el-option-group"),c=Z("el-options"),m=Z("el-scrollbar"),y=Z("el-select-menu"),S=Gl("click-outside");return pe((h(),E("div",{ref:"selectRef",class:g([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[Ql(e.mouseEnterEventName)]:b=>e.states.inputHovering=!0,onMouseleave:b=>e.states.inputHovering=!1},[te(i,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:b=>e.states.isBeforeHide=!1},{default:P(()=>{var b;return[D("div",{ref:"wrapperRef",class:g([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:de(e.toggleMenu,["prevent"])},[e.$slots.prefix?(h(),E("div",{key:0,ref:"prefixRef",class:g(e.nsSelect.e("prefix"))},[M(e.$slots,"prefix")],2)):N("v-if",!0),D("div",{ref:"selectionRef",class:g([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?M(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(h(!0),E(ue,null,Te(e.showTagList,p=>(h(),E("div",{key:e.getValueKey(p),class:g(e.nsSelect.e("selected-item"))},[te(a,{closable:!e.selectDisabled&&!p.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:ke(e.tagStyle),onClose:d=>e.deleteTag(d,p)},{default:P(()=>[D("span",{class:g(e.nsSelect.e("tags-text"))},[M(e.$slots,"label",{index:p.index,label:p.currentLabel,value:p.value},()=>[mt(U(p.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(h(),F(i,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:P(()=>[D("div",{ref:"collapseItemRef",class:g(e.nsSelect.e("selected-item"))},[te(a,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:ke(e.collapseTagStyle)},{default:P(()=>[D("span",{class:g(e.nsSelect.e("tags-text"))}," + "+U(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:P(()=>[D("div",{ref:"tagMenuRef",class:g(e.nsSelect.e("selection"))},[(h(!0),E(ue,null,Te(e.collapseTagList,p=>(h(),E("div",{key:e.getValueKey(p),class:g(e.nsSelect.e("selected-item"))},[te(a,{class:"in-tooltip",closable:!e.selectDisabled&&!p.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:d=>e.deleteTag(d,p)},{default:P(()=>[D("span",{class:g(e.nsSelect.e("tags-text"))},[M(e.$slots,"label",{index:p.index,label:p.currentLabel,value:p.value},()=>[mt(U(p.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):N("v-if",!0)]):N("v-if",!0),D("div",{class:g([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[pe(D("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":p=>e.states.inputValue=p,type:"text",name:e.name,class:g([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:ke(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((b=e.hoverOption)==null?void 0:b.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:e.handleKeydown,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:de(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[ql,e.states.inputValue]]),e.filterable?(h(),E("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:g(e.nsSelect.e("input-calculator")),textContent:U(e.states.inputValue)},null,10,["textContent"])):N("v-if",!0)],2),e.shouldShowPlaceholder?(h(),E("div",{key:1,class:g([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?M(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[D("span",null,U(e.currentPlaceholder),1)]):(h(),E("span",{key:1},U(e.currentPlaceholder),1))],2)):N("v-if",!0)],2),D("div",{ref:"suffixRef",class:g(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(h(),F(s,{key:0,class:g([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:P(()=>[(h(),F(Fe(e.iconComponent)))]),_:1},8,["class"])):N("v-if",!0),e.showClearBtn&&e.clearIcon?(h(),F(s,{key:1,class:g([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:P(()=>[(h(),F(Fe(e.clearIcon)))]),_:1},8,["class","onClick"])):N("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(h(),F(s,{key:2,class:g([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:P(()=>[(h(),F(Fe(e.validateIcon)))]),_:1},8,["class"])):N("v-if",!0)],2)],10,["onClick"])]}),content:P(()=>[te(y,{ref:"menuRef"},{default:P(()=>[e.$slots.header?(h(),E("div",{key:0,class:g(e.nsSelect.be("dropdown","header")),onClick:de(()=>{},["stop"])},[M(e.$slots,"header")],10,["onClick"])):N("v-if",!0),pe(te(m,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:g([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:P(()=>[e.showNewOption?(h(),F(v,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):N("v-if",!0),te(c,null,{default:P(()=>[M(e.$slots,"default",{},()=>[(h(!0),E(ue,null,Te(e.options,(b,p)=>{var d;return h(),E(ue,{key:p},[(d=e.getOptions(b))!=null&&d.length?(h(),F(l,{key:0,label:e.getLabel(b),disabled:e.getDisabled(b)},{default:P(()=>[(h(!0),E(ue,null,Te(e.getOptions(b),O=>(h(),F(v,bt({key:e.getValue(O)},e.getOptionProps(O)),null,16))),128))]),_:2},1032,["label","disabled"])):(h(),F(v,Ul(bt({key:1},e.getOptionProps(b))),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[He,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(h(),E("div",{key:1,class:g(e.nsSelect.be("dropdown","loading"))},[M(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(h(),E("div",{key:2,class:g(e.nsSelect.be("dropdown","empty"))},[M(e.$slots,"empty",{},()=>[D("span",null,U(e.emptyText),1)])],2)):N("v-if",!0),e.$slots.footer?(h(),E("div",{key:3,class:g(e.nsSelect.be("dropdown","footer")),onClick:de(()=>{},["stop"])},[M(e.$slots,"footer")],10,["onClick"])):N("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[S,e.handleClickOutside,e.popperRef]])}var Zn=Me(jn,[["render",Yn],["__file","select.vue"]]);const ca=Yl(Zn,{Option:Ue,OptionGroup:qe}),pa=Vt(Ue);Vt(qe);export{ca as E,pa as a,Tn as b,da as c,ua as g};
