import"./base-CKizj23g.js";import{E as C,a as h}from"./el-col-ztdj8VxH.js";import{a as P,E as B}from"./el-form-item-BFEfjKkw.js";import{E as F}from"./el-button-jLyDYas5.js";import{E as G}from"./el-switch-Bc2kElaP.js";import{E as S}from"./el-input-BN5ZdFSC.js";import{E as O}from"./el-text-C-1P6k4s.js";import{E as X}from"./el-card-BV1UOK6Q.js";import{aN as j,aM as H,e as E,r as R,z as T,aF as N,j as J,o as V,av as K,a3 as W,k as Z,p,K as i,U,ag as c}from"./index-DNL56yZ_.js";import"./index-C9txI7Rn.js";import"./event-WhKTvZKo.js";import"./use-form-common-props-D46TsG5o.js";import"./aria-D7O-RZyP.js";import"./index-B0kbSMQm.js";var L={exports:{}},q=L.exports,x;function z(){return x||(x=1,(function(k,r){(function(M,e){k.exports=e()})(q,function(){function M(o){var f=[];return o.AMapUI&&f.push(e(o.AMapUI)),o.Loca&&f.push(w(o.Loca)),Promise.all(f)}function e(o){return new Promise(function(f,n){var d=[];if(o.plugins)for(var u=0;u<o.plugins.length;u+=1)t.AMapUI.plugins.indexOf(o.plugins[u])==-1&&d.push(o.plugins[u]);if(l.AMapUI===a.failed)n("前次请求 AMapUI 失败");else if(l.AMapUI===a.notload){l.AMapUI=a.loading,t.AMapUI.version=o.version||t.AMapUI.version,u=t.AMapUI.version;var v=document.body||document.head,m=document.createElement("script");m.type="text/javascript",m.src="https://webapi.amap.com/ui/"+u+"/main.js",m.onerror=function(s){l.AMapUI=a.failed,n("请求 AMapUI 失败")},m.onload=function(){if(l.AMapUI=a.loaded,d.length)window.AMapUI.loadUI(d,function(){for(var s=0,g=d.length;s<g;s++){var y=d[s].split("/").slice(-1)[0];window.AMapUI[y]=arguments[s]}for(f();A.AMapUI.length;)A.AMapUI.splice(0,1)[0]()});else for(f();A.AMapUI.length;)A.AMapUI.splice(0,1)[0]()},v.appendChild(m)}else l.AMapUI===a.loaded?o.version&&o.version!==t.AMapUI.version?n("不允许多个版本 AMapUI 混用"):d.length?window.AMapUI.loadUI(d,function(){for(var s=0,g=d.length;s<g;s++){var y=d[s].split("/").slice(-1)[0];window.AMapUI[y]=arguments[s]}f()}):f():o.version&&o.version!==t.AMapUI.version?n("不允许多个版本 AMapUI 混用"):A.AMapUI.push(function(s){s?n(s):d.length?window.AMapUI.loadUI(d,function(){for(var g=0,y=d.length;g<y;g++){var _=d[g].split("/").slice(-1)[0];window.AMapUI[_]=arguments[g]}f()}):f()})})}function w(o){return new Promise(function(f,n){if(l.Loca===a.failed)n("前次请求 Loca 失败");else if(l.Loca===a.notload){l.Loca=a.loading,t.Loca.version=o.version||t.Loca.version;var d=t.Loca.version,u=t.AMap.version.startsWith("2"),v=d.startsWith("2");if(u&&!v||!u&&v)n("JSAPI 与 Loca 版本不对应！！");else{u=t.key,v=document.body||document.head;var m=document.createElement("script");m.type="text/javascript",m.src="https://webapi.amap.com/loca?v="+d+"&key="+u,m.onerror=function(s){l.Loca=a.failed,n("请求 AMapUI 失败")},m.onload=function(){for(l.Loca=a.loaded,f();A.Loca.length;)A.Loca.splice(0,1)[0]()},v.appendChild(m)}}else l.Loca===a.loaded?o.version&&o.version!==t.Loca.version?n("不允许多个版本 Loca 混用"):f():o.version&&o.version!==t.Loca.version?n("不允许多个版本 Loca 混用"):A.Loca.push(function(s){s?n(s):n()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a;(function(o){o.notload="notload",o.loading="loading",o.loaded="loaded",o.failed="failed"})(a||(a={}));var t={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},l={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},A={AMapUI:[],Loca:[]},I=[],b=function(o){typeof o=="function"&&(l.AMap===a.loaded?o(window.AMap):I.push(o))};return{load:function(o){return new Promise(function(f,n){if(l.AMap==a.failed)n("");else if(l.AMap==a.notload){var d=o.key,u=o.version,v=o.plugins;d?(window.AMap&&location.host!=="lbs.amap.com"&&n("禁止多种API加载方式混用"),t.key=d,t.AMap.version=u||t.AMap.version,t.AMap.plugins=v||t.AMap.plugins,l.AMap=a.loading,u=document.body||document.head,window.___onAPILoaded=function(s){if(delete window.___onAPILoaded,s)l.AMap=a.failed,n(s);else for(l.AMap=a.loaded,M(o).then(function(){f(window.AMap)}).catch(n);I.length;)I.splice(0,1)[0]()},v=document.createElement("script"),v.type="text/javascript",v.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+t.AMap.version+"&key="+d+"&plugin="+t.AMap.plugins.join(","),v.onerror=function(s){l.AMap=a.failed,n(s)},u.appendChild(v)):n("请填写key")}else if(l.AMap==a.loaded)if(o.key&&o.key!==t.key)n("多个不一致的 key");else if(o.version&&o.version!==t.AMap.version)n("不允许多个版本 JSAPI 混用");else{if(d=[],o.plugins)for(u=0;u<o.plugins.length;u+=1)t.AMap.plugins.indexOf(o.plugins[u])==-1&&d.push(o.plugins[u]);d.length?window.AMap.plugin(d,function(){M(o).then(function(){f(window.AMap)}).catch(n)}):M(o).then(function(){f(window.AMap)}).catch(n)}else if(o.key&&o.key!==t.key)n("多个不一致的 key");else if(o.version&&o.version!==t.AMap.version)n("不允许多个版本 JSAPI 混用");else{var m=[];if(o.plugins)for(u=0;u<o.plugins.length;u+=1)t.AMap.plugins.indexOf(o.plugins[u])==-1&&m.push(o.plugins[u]);b(function(){m.length?window.AMap.plugin(m,function(){M(o).then(function(){f(window.AMap)}).catch(n)}):M(o).then(function(){f(window.AMap)}).catch(n)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,t={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},l={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},A={AMap:[],AMapUI:[],Loca:[]}}}})})(L)),L.exports}var D=z();const Y=j(D);function Q(){return H("/mapList")}const $="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA3RJREFUWEfFl29olWUUwH8HTCapmwnOmqVzNcG5P+Fok8Yy7EOytU/VwsAyZfviUr9FCRpRgV8c6ZdFklnGxvowZGJi4B8GaUxo2u1DaneMTbZJbVdmrD9w8tz7Xvfee9/7vu/G5D7wwoV7nnN+5zznnOc8Qsilqk8AjUA9UA48BRQ42yeBIeA6cAnoFZHbYVRLkJCq1gJ7gWaTvTAG50aVsWkYnU7sXpkHhXnQtEqoWf5AY9d9wHYRuexnIyuAqi4ADgO7o1NwIgrdQ0ok5o+88TF4pUjYXgzFi+OyR4F9IvKf105PAFWtAE5EYlR23FC+isLdf4Nilfr/0kfgrWJofUYoy2cA2C4i19K1ZACoap2dYSRGfnNfsMdBWGX50FUXh7DYNYpIn3tPCoDj+aX5Mp40lAZR747EAwDnzPst7EGer3kU7HOvwXtgX7blgrDjqE7mhBvgSCTG7iDjBQth4lXv3F32nTL5TyiIoyLSZpJxTU6p/fhuv3LkN28FjUWJ7C5dApsLvWW6rROQqJbk73TJtlL4rDpudpOVaBKgMzpFc9UZ9cz2zSvg/EuBLSPF1os/KBfGM0GtOn7eKlaiXSLyhjgdbuTD+z3s4HX1dK3jOaHlaaj+Xrn6Z3Af6H9Z+PwmtP7kre9guXDAeikUGUAL0OGn3Ly3KMi33grTkXSbxL23KHgtS8hfGuIRbTWAb678wZu1Z7Mrn28As3x+i1gunTSAgQ8GtOKTSPbQ+gFYk/k6qvSOzOwPioBJvl8GH1fKNQOY2HVFC47dmj3AsRrhnRJ4vS8168MA7CyBL2pk0gC08aJy2uVBOopXBNo3CnvWJSSf7FGG/5pdBBqKoPcFYU4AH1UI+zfMGLQKisRmohAmAm6AWR/Bl7XCmsXEKyO5rPHYUdgKA+A+gjklYfNq6Hw+0ZzcxsMCuJNwTmX4aZXw3vpM42EB3GU4p0ZkiXlneibs7sQNOoL0RmTDpm8r9qqCplVwati7dIMAUlpxPGSqvpfRfHbCjMvIAbDJN+t1/PZasMzfcVkZnPK/jKw6krLHf8+U9byOHYisA4lNP4eeFV6zl0CI1TMM+65qxoTkmopSBxIHwMZw35Hs8UWwbok/wfjf8KvH6B44kjkQNo7nZihN+pXTsdwFkbuHiQsid0+zlK6Wq8dpeq4/rOf5/1pBL+HGxGXSAAAAAElFTkSuQmCC",ee="/ldv/assets/station-Cf77LQol.jpg",oe={id:"container"},ne=E({__name:"MapContainer",setup(k){let r=null;const M=R([]);return T(()=>{Y.load({key:"99997aed9d68f53c894c3b2fae1e2e5b",version:"1.4.15",plugins:[]}).then(e=>{r=new e.Map("container",{viewMode:"3D",zoom:5,center:[116.397428,39.90923]}),Q().then(({data:w})=>{M.value=w;const a=new e.InfoWindow({offset:new e.Pixel(0,-30)});M.value.forEach(t=>{const l=new e.Marker({position:t.position,icon:$});l.on("click",()=>{a.setContent(`
              <div style="display: flex; padding: 10px; align-items: center;">
                <div>
                  <img src="${ee}" style="width: 200px;" />
                </div>
                <div style="width: 150px; margin-left: 20px; line-height: 30px">
                  <h4>${t.title}</h4>
                  <p>充电站数量：${t.count}</p>
                  <p>充电站状态：<span style="color: blue">${t.status==1?"使用中":"维护中"}</span></p>
                </div>
              </div>`),a.open(r,l.getPosition())}),r.add(l)})})}).catch(e=>{console.error(e)})}),N(()=>{r?.destroy()}),(e,w)=>(V(),J("div",oe))}}),te=K(ne,[["__scopeId","data-v-78d0373c"]]),we=E({__name:"ElectronicMap",setup(k){const r=W({name:"",address:"",longitude:"",latitude:"",count:"",now:!1,remark:""});return(M,e)=>{const w=X,a=h,t=O,l=S,A=B,I=G,b=F,o=P,f=C;return V(),Z(f,{gutter:10},{default:p(()=>[i(a,{span:16},{default:p(()=>[i(w,null,{default:p(()=>[i(te)]),_:1})]),_:1}),i(a,{span:8},{default:p(()=>[i(w,{class:"des"},{default:p(()=>[U("div",null,[e[8]||(e[8]=c("1.累积充电站数量：",-1)),i(t,{type:"primary"},{default:p(()=>[...e[7]||(e[7]=[c("34个",-1)])]),_:1})]),U("div",null,[e[10]||(e[10]=c("2.单省份最多充电站：",-1)),i(t,{type:"primary"},{default:p(()=>[...e[9]||(e[9]=[c("北京(4个)",-1)])]),_:1})]),U("div",null,[e[12]||(e[12]=c("3.充电站遍及省份：",-1)),i(t,{type:"primary"},{default:p(()=>[...e[11]||(e[11]=[c("14个",-1)])]),_:1})]),U("div",null,[e[14]||(e[14]=c("4.单日营收最高：",-1)),i(t,{type:"primary"},{default:p(()=>[...e[13]||(e[13]=[c("北京西单充电站",-1)])]),_:1})]),U("div",null,[e[16]||(e[16]=c("5.单日营收最低：",-1)),i(t,{type:"primary"},{default:p(()=>[...e[15]||(e[15]=[c("南宁青秀山充电站",-1)])]),_:1})]),U("div",null,[e[18]||(e[18]=c("6.故障率最高：",-1)),i(t,{type:"primary"},{default:p(()=>[...e[17]||(e[17]=[c("兰州黄河桥充电站",-1)])]),_:1})])]),_:1}),i(w,{style:{"margin-top":"10px"}},{header:p(()=>[...e[19]||(e[19]=[U("div",{class:"card-header"},[U("h4",null,"新增站点地图")],-1)])]),default:p(()=>[i(o,{model:r,style:{"max-width":"600px"}},{default:p(()=>[i(A,{label:"站点名称"},{default:p(()=>[i(l,{modelValue:r.name,"onUpdate:modelValue":e[0]||(e[0]=n=>r.name=n),placeholder:"请输入站点名称"},null,8,["modelValue"])]),_:1}),i(A,{label:"站点地址"},{default:p(()=>[i(l,{modelValue:r.address,"onUpdate:modelValue":e[1]||(e[1]=n=>r.address=n),placeholder:"请输入站点地址"},null,8,["modelValue"])]),_:1}),i(A,{label:"站点经度"},{default:p(()=>[i(l,{modelValue:r.longitude,"onUpdate:modelValue":e[2]||(e[2]=n=>r.longitude=n),placeholder:"请输入站点经度"},null,8,["modelValue"])]),_:1}),i(A,{label:"站点纬度"},{default:p(()=>[i(l,{modelValue:r.latitude,"onUpdate:modelValue":e[3]||(e[3]=n=>r.latitude=n),placeholder:"请输入站点纬度"},null,8,["modelValue"])]),_:1}),i(A,{label:"充电桩数量"},{default:p(()=>[i(l,{modelValue:r.count,"onUpdate:modelValue":e[4]||(e[4]=n=>r.count=n),placeholder:"请输入充电桩数量"},null,8,["modelValue"])]),_:1}),i(A,{label:"立即使用"},{default:p(()=>[i(I,{modelValue:r.now,"onUpdate:modelValue":e[5]||(e[5]=n=>r.now=n)},null,8,["modelValue"])]),_:1}),i(A,{label:"备注"},{default:p(()=>[i(l,{modelValue:r.remark,"onUpdate:modelValue":e[6]||(e[6]=n=>r.remark=n),type:"textarea",placeholder:"请输入备注"},null,8,["modelValue"])]),_:1}),i(b,{type:"primary"},{default:p(()=>[...e[20]||(e[20]=[c("提交",-1)])]),_:1}),i(b,null,{default:p(()=>[...e[21]||(e[21]=[c("重置",-1)])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}});export{we as default};
